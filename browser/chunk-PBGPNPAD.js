import{a as V}from"./chunk-3H7ECHID.js";import{a as K}from"./chunk-BJ7OGFNR.js";import{a as U,b as q,c as z,d as G,e as L,g as b,i as B,k as Y,l as H,u as J,v as O}from"./chunk-2USBGTC3.js";import{A,D as h,E as g,Q as l,R as u,Sa as F,Ta as P,Wa as D,X as p,Z as f,ca as _,eb as j,ga as o,gb as M,ha as n,hb as $,ia as c,j as y,kb as N,ma as C,n as w,na as v,nb as R,oa as m,v as S,wa as d,xa as x,ya as I,z as E}from"./chunk-425NM7EX.js";function ie(e,t){if(e&1&&(o(0,"div",5),c(1,"app-alert",6),n()),e&2){let a=m();l(),f("alert",a.alert)}}function ne(e,t){e&1&&c(0,"app-dataloading")}function re(e,t){e&1&&(o(0,"div",4)(1,"h1"),d(2,"No vendors found"),n()())}function oe(e,t){if(e&1){let a=C();o(0,"tr")(1,"td"),d(2),n(),o(3,"td"),d(4),n(),o(5,"td"),d(6),n(),o(7,"td"),d(8),n(),o(9,"td")(10,"div",9)(11,"i",10),v("click",function(){let i=h(a).$implicit,s=m(2);return g(s.edit(i.id))}),n(),o(12,"img",11),v("click",function(){let i=h(a).$implicit,s=m(2);return g(s.delete(i.id))}),n()()()()}if(e&2){let a=t.$implicit;l(2),I("",a.name||"--"," "),l(2),x(a.email||"--"),l(2),x(a.officeAddress||"--"),l(2),x(a.phoneNumber||"--")}}function ae(e,t){if(e&1&&(o(0,"table")(1,"thead")(2,"td"),d(3,"Vendor Name"),n(),o(4,"td"),d(5,"Email"),n(),o(6,"td"),d(7,"Address"),n(),o(8,"td"),d(9,"Phone Number"),n(),o(10,"td",7),d(11,"Actions"),n()(),o(12,"tbody"),p(13,oe,13,4,"tr",8),n()()),e&2){let a=m();l(13),f("ngForOf",a.vendors)}}var Q=(()=>{let t=class t{delete(r){this.service.deletevender(r).subscribe(i=>{this.isalert=!0,this.alert.type="success",this.alert.upermessage="Deleted Success",this.alert.lowermessage="Vendor Deleted Successfully",setTimeout(()=>{this.isalert=!1},3e3),this.getvendor()},i=>{this.isalert=!0,this.alert.type="error",i.status==405?(this.alert.type="warning",this.alert.upermessage="Delete Failed",this.alert.lowermessage="Vendor is already in use"):(this.alert.type="error",this.alert.upermessage="Something went wrong",this.alert.lowermessage="Please try again Later"),setTimeout(()=>{this.isalert=!1},3e3)})}edit(r){this.router.navigateByUrl(`dashboard/vendor/add?id=${r}`)}constructor(r,i){this.service=r,this.router=i,this.dataload=!1,this.isalert=!1,this.alert={type:"",upermessage:"",lowermessage:""},this.vendors=[]}getvendor(){this.dataload=!1,this.service.getvendors().pipe(w(r=>(this.dataload=!0,this.vendors=[],y(r)))).subscribe(r=>{r.status==404?(this.dataload=!0,this.vendors=[]):(console.log(r),this.dataload=!0,this.vendors=r.responseData.$values)})}ngOnInit(){this.getvendor()}};t.\u0275fac=function(i){return new(i||t)(u(V),u(M))},t.\u0275cmp=E({type:t,selectors:[["app-vendorlist"]],decls:10,vars:2,consts:[["class","alert",4,"ngIf"],[1,"head"],["routerLink","add"],[1,"container"],[1,"notfound",2,"display","grid","place-items","center","padding","50px"],[1,"alert"],[3,"alert"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"action"],[1,"fa-regular","fa-pen-to-square",2,"color","green","cursor","pointer",3,"click"],["src","delete.svg","alt","",2,"cursor","pointer",3,"click"]],template:function(i,s){i&1&&(p(0,ie,2,1,"div",0),o(1,"div",1)(2,"h1"),d(3,"Vendor List"),n(),o(4,"button",2),d(5,"Add Vendor"),n()(),o(6,"div",3),p(7,ne,1,0,"app-dataloading")(8,re,3,0,"div",4)(9,ae,14,1,"table"),n()),i&2&&(f("ngIf",s.isalert),l(7),_(s.dataload?s.vendors.length<=0?8:9:7))},dependencies:[F,P,$,K,O],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4379ee;border-radius:5px;border:none;color:#fff;padding:15px;font-size:1em;cursor:pointer}thead[_ngcontent-%COMP%]{background-color:#f1f4f9;font-weight:700}.action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;background-color:#fafbfd;border:.1px solid rgb(213,213,213);border-radius:7.5px;gap:0px}.alert[_ngcontent-%COMP%]{display:flex;position:fixed;width:100%;left:0;justify-content:center}"]});let e=t;return e})();function se(e,t){if(e&1&&(o(0,"div",14),c(1,"app-alert",15),n()),e&2){let a=m();l(),f("alert",a.alert)}}function de(e,t){if(e&1&&(o(0,"span",5),d(1),n()),e&2){let a=m();l(),x(a.inputerrormessages.required)}}function le(e,t){e&1&&c(0,"div",18)}function me(e,t){if(e&1){let a=C();o(0,"button",16),v("click",function(i){h(a);let s=m();return g(s.Addvendor(i))}),d(1,"Add Now "),p(2,le,1,0,"div",17),n()}if(e&2){let a=m();l(2),f("ngIf",!a.response)}}function ce(e,t){e&1&&c(0,"div",18)}function pe(e,t){if(e&1){let a=C();o(0,"button",16),v("click",function(i){h(a);let s=m();return g(s.Savevendor(i))}),p(1,ce,1,0,"div",17),d(2,"Save Changes"),n()}if(e&2){let a=m();l(),f("ngIf",!a.response)}}var T=(()=>{let t=class t{constructor(r,i,s){this.service=r,this.router=i,this.active=s,this.alert={type:"",upermessage:"",lowermessage:""},this.id=0,this.response=!0,this.isalert=!1,this.imageUrl="Image.svg",this.inputerrormessages=R.inputerrormessage,this.vendorinfo=new L({name:new b("",q.required),email:new b(""),officeAddress:new b(""),phoneNumber:new b("")}),this.active.snapshot.queryParams.id&&(this.id=this.active.snapshot.queryParams.id)}ngOnInit(){this.id!==0&&(this.response=!1,this.service.getvendorbyId(this.id).pipe(w(r=>(this.response=!0,y(r)))).subscribe({next:r=>{this.response=!0,this.editvender=r.responseData,this.vendorinfo.setValue({name:this.editvender.name,email:this.editvender.email,officeAddress:this.editvender.officeAddress,phoneNumber:this.editvender.phoneNumber})}}))}Savevendor(r){if(this.vendorinfo.invalid)this.vendorinfo.markAllAsTouched();else{this.response=!1;let i={id:this.id,name:this.vendorinfo.controls.name.value,email:this.vendorinfo.controls.email.value,officeAddress:this.vendorinfo.controls.officeAddress.value,phoneNumber:this.vendorinfo.controls.phoneNumber.value};this.service.updatevendor(i).subscribe(s=>{this.response=!0,this.isalert=!0,this.alert.type="success",this.alert.upermessage="Added Successfully",this.alert.lowermessage="Vendor has been Added Successfully",setTimeout(()=>{this.isalert=!1,this.router.navigateByUrl("dashboard/vendor")},3e3)},s=>{this.isalert=!0,s.status==401?(this.alert.type="error",this.alert.upermessage="Unauthorized",this.alert.lowermessage="You donot have Permission"):(this.alert.type="error",this.alert.upermessage="Something went wrong",this.alert.lowermessage="Pleasr try again later"),setTimeout(()=>{this.isalert=!1},3e3)})}}Addvendor(r){this.vendorinfo.invalid?this.vendorinfo.markAllAsTouched():(this.response=!1,this.service.addvendor(this.vendorinfo.value).subscribe(i=>{this.response=!0,this.isalert=!0,this.alert.type="success",this.alert.upermessage="Added Successfully",this.alert.lowermessage="Vendor has been Added Successfully",setTimeout(()=>{this.isalert=!1,this.router.navigateByUrl("dashboard/vendor")},3e3)},i=>{this.isalert=!0,i.status==401?(this.alert.type="error",this.alert.upermessage="Unauthorized",this.alert.lowermessage="You donot have Permission"):(this.alert.type="error",this.alert.upermessage="Something went wrong",this.alert.lowermessage="Pleasr try again later"),setTimeout(()=>{this.isalert=!1},3e3)}))}onselect(r){throw new Error("Method not implemented.")}};t.\u0275fac=function(i){return new(i||t)(u(V),u(M),u(j))},t.\u0275cmp=E({type:t,selectors:[["app-addvendor"]],decls:28,vars:4,consts:[["class","alert",4,"ngIf"],[1,"container"],[3,"formGroup"],["for","vendorname"],["type","text","name","vendorname","id","vendorname","placeholder","Enter Vendor Name","formControlName","name"],[1,"error"],["for","vendoremail"],["type","text","name","vendoremail","id","vendoremail","placeholder","Enter Vendor Email","formControlName","email"],["for","OfficeAddress"],["type","text","name","OfficeAddress","id","OfficeAddress","placeholder","Enter Vendor Address","formControlName","officeAddress"],["for","PhoneNumber"],["type","text","name","PhoneNumber","id","PhoneNumber","placeholder","Enter Phone Number","formControlName","phoneNumber"],[1,"link"],[2,"cursor","pointer","display","flex","gap","8px","align-items","center"],[1,"alert"],[3,"alert"],[2,"cursor","pointer","display","flex","gap","8px","align-items","center",3,"click"],["class","loader",4,"ngIf"],[1,"loader"]],template:function(i,s){i&1&&(p(0,se,2,1,"div",0),o(1,"h1"),d(2,"Add New Vendor"),n(),o(3,"div",1)(4,"form",2)(5,"table")(6,"tr")(7,"td")(8,"label",3),d(9,"Vendor Name:"),n(),c(10,"input",4),p(11,de,2,1,"span",5),n(),o(12,"td")(13,"label",6),d(14,"Vendor Email:"),n(),c(15,"input",7),n()(),o(16,"tr")(17,"td")(18,"label",8),d(19,"Office Address:"),n(),c(20,"input",9),n(),o(21,"td")(22,"label",10),d(23,"Phone Number:"),n(),c(24,"input",11),n()()()(),o(25,"div",12),p(26,me,3,1,"button",13)(27,pe,3,1,"button",13),n()()),i&2&&(f("ngIf",s.isalert),l(4),f("formGroup",s.vendorinfo),l(7),_(s.vendorinfo.controls.name.errors&&s.vendorinfo.controls.name.touched?11:-1),l(15),_(s.id==0?26:27))},dependencies:[P,B,U,z,G,Y,H,O],styles:[".file-upload-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.custom-upload-button[_ngcontent-%COMP%]{background-color:transparent;color:#4880ff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-bottom:10px}.custom-upload-button[_ngcontent-%COMP%]:hover{color:#4880ff}.file-input[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{padding:0 150px}.preview-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:50%;margin-top:10px}.link[_ngcontent-%COMP%]{display:flex;justify-content:center}.link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#4880ff;padding:10px 35px;color:#fff;border-radius:5px;font-size:1em}.loader[_ngcontent-%COMP%]{width:20px;aspect-ratio:1;border-radius:50%;background:radial-gradient(farthest-side,#fff 94%,#0000) top/4px 4px no-repeat,conic-gradient(#0000 30%,#fff);-webkit-mask:radial-gradient(farthest-side,rgba(0,0,0,0) calc(100% - 4px),#000 0);animation:_ngcontent-%COMP%_l13 1s infinite linear}@keyframes _ngcontent-%COMP%_l13{to{transform:rotate(1turn)}}.alert[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;width:100%;left:0}"]});let e=t;return e})();var fe=[{path:"",component:Q},{path:"add",component:T},{path:"add/:id",component:T}],W=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=A({type:t}),t.\u0275inj=S({imports:[N.forChild(fe),N]});let e=t;return e})();var Ue=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=A({type:t}),t.\u0275inj=S({imports:[D,W,J]});let e=t;return e})();export{Ue as VendorModule};
