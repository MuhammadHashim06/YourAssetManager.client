import{a as ye}from"./chunk-JBNS553Q.js";import{a as Se}from"./chunk-3H7ECHID.js";import{a as Te}from"./chunk-YPVNFTTI.js";import{a as W,b as De}from"./chunk-FBKQY33V.js";import{a as Z}from"./chunk-HYG3M4T2.js";import{a as be}from"./chunk-BJ7OGFNR.js";import{a as K,b as N,c as Q,d as ue,e as _e,g as y,h as X,i as ge,j as fe,k as xe,l as he,n as j,o as B,p as Ce,t as ve,u as Ae,v as Y}from"./chunk-2USBGTC3.js";import{A as H,Aa as E,Ba as w,D as g,E as f,Ga as ne,Ha as le,Ia as v,Q as c,R as b,Ra as ce,Sa as R,Ta as L,Va as se,Wa as de,X as m,Z as p,aa as re,ca as S,da as k,e as $,ea as P,eb as G,fa as F,ga as i,gb as U,ha as s,hb as pe,ia as _,j as I,ja as te,ka as ie,kb as ae,ma as C,n as M,na as h,nb as me,oa as d,v as z,va as q,wa as r,xa as x,y as J,ya as D,z as V,za as O}from"./chunk-425NM7EX.js";var Me=(e,o)=>({selected:e,unselected:o}),Fe=(e,o,t,a,n)=>({Assigned:e,Retired:o,UnderMaintenance:t,Returned:a,Available:n});function Re(e,o){e&1&&(i(0,"option",6),r(1,"No Category"),s())}function Le(e,o){if(e&1&&(i(0,"option",16),r(1),s()),e&2){let t=o.$implicit;p("value",t.categoryName),c(),x(t.categoryName)}}function Ue(e,o){e&1&&(i(0,"option",6),r(1,"No Status"),s())}function je(e,o){if(e&1&&(i(0,"option",16),r(1),s()),e&2){let t=o.$implicit;p("value",t),c(),x(t)}}function Be(e,o){if(e&1){let t=C();i(0,"button",21),h("click",function(){let n=g(t).$implicit,l=d(3);return f(l.toggle(n))}),r(1),s()}if(e&2){let t=o.$implicit,a=d(3);p("ngClass",ne(2,Me,a.filter.includes(t),!a.filter.includes(t))),c(),D(" ",t," ")}}function We(e,o){if(e&1&&(te(0),m(1,Be,2,5,"button",20),ie()),e&2){let t=d(2);c(),p("ngForOf",t.status)}}function qe(e,o){if(e&1){let t=C();i(0,"button",21),h("click",function(){let n=g(t).$implicit,l=d(3);return f(l.toggle(n.categoryName))}),r(1),s()}if(e&2){let t=o.$implicit,a=d(3);p("ngClass",ne(2,Me,a.filter.includes(t.categoryName),!a.filter.includes(t.categoryName))),c(),D(" ",t.categoryName," ")}}function $e(e,o){if(e&1&&(te(0),m(1,qe,2,5,"button",20),ie()),e&2){let t=d(2);c(),p("ngForOf",t.categories)}}function ze(e,o){if(e&1){let t=C();i(0,"div",17),h("click",function(n){g(t);let l=d();return f(l.stopHide(n))}),i(1,"div",18),m(2,We,2,1,"ng-container",19)(3,$e,2,1,"ng-container",19),s()()}if(e&2){let t=d();c(2),p("ngIf",t.setFilterValue==="Status"),c(),p("ngIf",t.setFilterValue==="Category")}}function Je(e,o){e&1&&_(0,"app-dataloading")}function He(e,o){if(e&1){let t=C();i(0,"tr",10),h("click",function(){let n=g(t).$implicit,l=d(2);return f(l.assetDetail(n.id))}),i(1,"td"),r(2),s(),i(3,"td"),r(4),s(),i(5,"td"),r(6),s(),i(7,"td",25)(8,"div",26),r(9),s()()()}if(e&2){let t=o.$implicit;c(2),x(t.id),c(2),x(t.assetName),c(2),x(t.assetCategoryData),c(2),p("ngClass",le(5,Fe,t.assetStatusData==="Assigned",t.assetStatusData==="Retired",t.assetStatusData==="UnderMaintenance",t.assetStatusData==="Returned",t.assetStatusData==="Available")),c(),D(" ",t.assetStatusData," ")}}function Ge(e,o){if(e&1&&(i(0,"table",22)(1,"thead")(2,"tr")(3,"th"),r(4,"Asset ID"),s(),i(5,"th"),r(6,"Asset Name"),s(),i(7,"th"),r(8,"Category"),s(),i(9,"th",23),r(10,"Status"),s()()(),i(11,"tbody"),m(12,He,10,11,"tr",24),s()()),e&2){let t=d();c(12),p("ngForOf",t.filteredAsset)}}var Ne=(()=>{let o=class o{constructor(a,n,l){this.assetService=a,this.categoryService=n,this.router=l,this.assetList=[],this.filteredAsset=[],this.categories=[],this.filter=[],this.isShowFilter=!1,this.setFilterValue="Status",this.status=["Assigned","Retired","UnderMaintenance","Returned","Available"],this.isdataload=!1}ngOnInit(){this.loadAssets(),this.loadCategories()}loadAssets(){this.isdataload=!1,this.assetService.getallasset().pipe(M(a=>I(a))).subscribe(a=>{this.assetList=a.responseData.$values,this.isdataload=!0,this.filteredAsset=this.assetList})}loadCategories(){this.categoryService.getcategory().subscribe(a=>{this.categories=a.responseData.$values})}selectStatus(a){this.targetStatus=a.target.value}selectCategory(a){this.targetCategory=a.target.value}filterAsset(a){this.targetCategory!=="-1"?this.filteredAsset=this.assetList.filter(n=>n.assetCategoryData===this.targetCategory):this.filteredAsset=this.assetList,this.targetStatus!=="-1"?this.filteredAsset=this.filteredAsset.filter(n=>n.assetStatusData===this.targetStatus):this.filteredAsset=this.filteredAsset}stopHide(a){a.stopPropagation()}hideFilter(a){this.isShowFilter=!1}assetDetail(a){this.router.navigateByUrl(`dashboard/asset/${a}`)}resetFilter(a){this.filteredAsset=this.assetList}setFilter(a,n){n.stopPropagation(),this.isShowFilter=!0,this.setFilterValue=a}toggle(a){let n=this.filter.indexOf(a);n>=0?this.filter.splice(n,1):this.filter.push(a),this.filterAssets()}filterAssets(){this.filter=[],this.targetCategory!=="=1"&&this.filter.push(this.targetCategory),this.targetStatus!=="-1"&&this.filter.push(this.targetStatus),this.filter.length>0?this.filteredAsset=this.assetList.filter(a=>this.filter.some(n=>a.assetStatusData===n||a.assetCategoryData===n||a.manufacturer===n||a.model===n||a.assetTypeData===n||a.vendorData===n)):this.filteredAsset=this.assetList}};o.\u0275fac=function(n){return new(n||o)(b(W),b(Z),b(U))},o.\u0275cmp=V({type:o,selectors:[["app-assetlist"]],decls:35,vars:7,consts:[["table",""],[1,"head",3,"click"],["routerLink","create"],[1,"filter"],["src","filter.svg","alt","Filter Icon"],[3,"change"],["value","-1"],["value","-1",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"search",3,"click"],[3,"click"],[1,"resetfilter"],[1,"fa-solid","fa-rotate-right"],["class","filter-values",3,"click",4,"ngIf"],[1,"container",3,"click"],[4,"ngIf","ngIfElse"],[3,"value"],[1,"filter-values",3,"click"],[1,"values"],[4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],[1,"list"],[2,"text-align","center"],[3,"click",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],[3,"ngClass"]],template:function(n,l){if(n&1){let u=C();i(0,"div",1),h("click",function(T){return g(u),f(l.hideFilter(T))}),i(1,"h1"),r(2,"Assets List"),s(),i(3,"button",2),r(4,"Add New Asset"),s()(),i(5,"div",3)(6,"table")(7,"tr")(8,"td"),_(9,"img",4),s(),i(10,"td")(11,"select",5),h("change",function(T){return g(u),f(l.selectCategory(T))}),i(12,"option",6),r(13,"Select Category"),s(),m(14,Re,2,0,"option",7)(15,Le,2,2,"option",8),s()(),i(16,"td")(17,"select",5),h("change",function(T){return g(u),f(l.selectStatus(T))}),i(18,"option",6),r(19,"Select Status"),s(),m(20,Ue,2,0,"option",7)(21,je,2,2,"option",8),s()(),i(22,"td")(23,"button",9),h("click",function(T){return g(u),f(l.filterAsset(T))}),r(24,"Apply Filter"),s()(),i(25,"td",10),h("click",function(T){return g(u),f(l.resetFilter(T))}),i(26,"div",11),_(27,"i",12),i(28,"p"),r(29,"Reset Filter"),s()()()()()(),m(30,ze,4,2,"div",13),i(31,"div",14),h("click",function(T){return g(u),f(l.hideFilter(T))}),m(32,Je,1,0,"app-dataloading",15)(33,Ge,13,1,"ng-template",null,0,v),s()}if(n&2){let u=q(34);c(14),p("ngIf",l.categories.length<=0),c(),p("ngForOf",l.categories),c(5),p("ngIf",l.status.length<=0),c(),p("ngForOf",l.status),c(9),p("ngIf",l.isShowFilter),c(2),p("ngIf",!l.isdataload)("ngIfElse",u)}},dependencies:[ce,R,L,pe,j,B,be],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.search[_ngcontent-%COMP%]{background-color:#4379ee;border-radius:5px;border:none;color:#fff;padding:15px;font-size:1em;cursor:pointer;width:100%;height:100%}.head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4379ee;border-radius:5px;border:none;color:#fff;padding:15px;font-size:1em;cursor:pointer}.filter[_ngcontent-%COMP%]{border-radius:15px;background-color:#f9f9fb}.filter[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;font-weight:700}.filter[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.resetfilter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;color:red;cursor:pointer}.filtervalues[_ngcontent-%COMP%]{background-color:#0ff;margin-left:20vw;position:absolute;display:grid;place-items:center}.values[_ngcontent-%COMP%]{box-shadow:0 12px 60px #a9a9a95d;background-color:#fff;padding:20px;width:300px;display:flex;flex-wrap:wrap;justify-content:center;border-radius:5px;gap:7px}.values[_ngcontent-%COMP%]   .unselected[_ngcontent-%COMP%]{border:none;background-color:#fff;border-radius:20px;border:1px solid black;padding:5px 10px;cursor:pointer}.values[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:1px solid rgb(72,128,255);border-radius:20px;background-color:#4880ff;color:#fff;padding:5px 10px;cursor:pointer}.Assigned[_ngcontent-%COMP%]{width:45%;text-align:center;padding:5px 10px;border-radius:5px;color:#ffa756;background-color:#ffa75633}.Retired[_ngcontent-%COMP%]{width:45%;text-align:center;padding:5px 10px;border-radius:5px;color:#ef3826;background-color:#ef382633}.UnderMaintenance[_ngcontent-%COMP%]{width:45%;text-align:center;padding:5px 10px;border-radius:5px;color:#ba29ff;background-color:#ba29ff33}.Available[_ngcontent-%COMP%]{width:45%;text-align:center;padding:5px 10px;border-radius:5px;color:#00b69b;background-color:#00b69b33}.container[_ngcontent-%COMP%]   table.list[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f1f4f9;font-weight:700}.container[_ngcontent-%COMP%]   table.list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#fafafa}"]});let e=o;return e})();function Qe(e,o){if(e&1&&(i(0,"div",32),_(1,"app-alert",33),s()),e&2){let t=d();c(),p("alert",t.alert)}}function Xe(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function Ye(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function Ze(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function et(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function tt(e,o){if(e&1&&(i(0,"option",35),r(1),s()),e&2){let t=d().$implicit;p("value",t.id),c(),x(t.categoryName)}}function it(e,o){e&1&&(i(0,"option",36),r(1,"Select Asset Category"),s())}function nt(e,o){if(e&1&&(i(0,"option",37),r(1),s()),e&2){let t=d().$implicit;p("value",t.id),c(),D(" ",t.categoryName," ")}}function st(e,o){if(e&1&&m(0,tt,2,2,"option",35)(1,it,2,0,"option",36)(2,nt,2,2,"option",37),e&2){let t=o.$implicit,a=d(2);S(a.AssetDTO.controls.assetCategoryData.value==t.id?0:a.AssetDTO.controls.assetCategoryData.value==""?1:2)}}function at(e,o){if(e&1&&P(0,st,3,1,null,null,k),e&2){let t=d();F(t.categories)}}function ot(e,o){if(e&1&&(i(0,"option",37),r(1),s()),e&2){let t=o.$implicit;p("value",t.id),c(),x(t.categoryName)}}function rt(e,o){if(e&1&&(i(0,"option",36),r(1,"Select Asset Category"),s(),m(2,ot,2,2,"option",38)),e&2){let t=d();c(2),p("ngForOf",t.categories)}}function lt(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function ct(e,o){if(e&1&&(i(0,"option",35),r(1),s()),e&2){let t=d().$implicit;p("value",t.id),c(),x(t.name)}}function dt(e,o){e&1&&(i(0,"option",36),r(1,"Select Asset Vendor"),s())}function pt(e,o){if(e&1&&(i(0,"option",37),r(1),s()),e&2){let t=d().$implicit;p("value",t.id),c(),D(" ",t.name," ")}}function mt(e,o){if(e&1&&m(0,ct,2,2,"option",35)(1,dt,2,0,"option",36)(2,pt,2,2,"option",37),e&2){let t=o.$implicit,a=d(2);S(a.AssetDTO.controls.vendorData.value==t.id?0:a.AssetDTO.controls.vendorData.value==""?1:2)}}function ut(e,o){if(e&1&&P(0,mt,3,1,null,null,k),e&2){let t=d();F(t.vendors)}}function _t(e,o){if(e&1&&(i(0,"option",37),r(1),s()),e&2){let t=o.$implicit;p("value",t.id),c(),x(t.name)}}function gt(e,o){if(e&1&&(i(0,"option",36),r(1,"Select Asset Vendor"),s(),m(2,_t,2,2,"option",38)),e&2){let t=d();c(2),p("ngForOf",t.vendors)}}function ft(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function xt(e,o){if(e&1&&(i(0,"option",35),r(1),s()),e&2){let t=d().$implicit;p("value",t.id),c(),x(t.assetTypeName)}}function ht(e,o){e&1&&(i(0,"option",36),r(1,"Select Asset Type"),s())}function Ct(e,o){if(e&1&&(i(0,"option",37),r(1),s()),e&2){let t=d().$implicit;p("value",t.id),c(),D(" ",t.assetTypeName," ")}}function vt(e,o){if(e&1&&m(0,xt,2,2,"option",35)(1,ht,2,0,"option",36)(2,Ct,2,2,"option",37),e&2){let t=o.$implicit,a=d(2);S(a.AssetDTO.controls.assetTypeData.value==t.id?0:a.AssetDTO.controls.assetTypeData.value==""?1:2)}}function At(e,o){if(e&1&&P(0,vt,3,1,null,null,k),e&2){let t=d();F(t.assettype)}}function yt(e,o){if(e&1&&(i(0,"option",37),r(1),s()),e&2){let t=o.$implicit;p("value",t.id),c(),x(t.assetTypeName)}}function bt(e,o){if(e&1&&(i(0,"option",36),r(1,"Select Asset Type"),s(),m(2,yt,2,2,"option",38)),e&2){let t=d();c(2),p("ngForOf",t.assettype)}}function St(e,o){if(e&1&&(i(0,"span",34),r(1),s()),e&2){let t=d();c(),x(t.inputerrormessage.required)}}function Tt(e,o){e&1&&_(0,"div",41)}function Dt(e,o){if(e&1){let t=C();i(0,"button",39),h("click",function(n){g(t);let l=d();return f(l.addAsset(n))}),r(1,"Add Asset "),m(2,Tt,1,0,"div",40),s()}if(e&2){let t=d();c(2),p("ngIf",!t.response)}}function Ot(e,o){e&1&&_(0,"div",41)}function Et(e,o){if(e&1){let t=C();i(0,"button",39),h("click",function(n){g(t);let l=d();return f(l.Saveasset(n))}),r(1,"Save Asset "),m(2,Ot,1,0,"div",40),s()}if(e&2){let t=d();c(2),p("ngIf",!t.response)}}function wt(e,o){if(e&1){let t=C();i(0,"tr")(1,"td")(2,"label",42),r(3),s()(),i(4,"td")(5,"input",43),w("ngModelChange",function(n){let l=g(t).$implicit;return E(l.value,n)||(l.value=n),f(n)}),s()()()}if(e&2){let t=o.$implicit;c(2),p("for",t.name),c(),x(t.label),c(2),p("type",t.type)("name",t.name)("id",t.name),O("ngModel",t.value)}}var oe=(()=>{let o=class o{setAssettype(a){let n=a.target.value;n>0?this.AssetDTO.controls.assetTypeData.setValue(n):this.AssetDTO.controls.assetTypeData.setValue("")}setvendor(a){a.target.value>0?this.AssetDTO.controls.vendorData.setValue(a.target.value):this.AssetDTO.controls.vendorData.setValue("")}Saveasset(a){this.response=!1,a.preventDefault(),this.AssetDTO.addControl("id",new y(this.id)),this.AssetDTO.controls.catagoryReleventFeildsData.setValue(JSON.stringify(this.AssetDTO.controls.catagoryReleventFeildsData.value)),this.AssetDTO.controls.assetIdentificationNumber.setValue(this.AssetDTO.controls.assetIdentificationNumber.value?this.AssetDTO.controls.assetIdentificationNumber.value:"N/A"),this.AssetDTO.controls.manufacturer.setValue(this.AssetDTO.controls.manufacturer.value?this.AssetDTO.controls.manufacturer.value:"N/A"),this.AssetDTO.controls.model.setValue(this.AssetDTO.controls.model.value?this.AssetDTO.controls.model.value:"N/A"),this.AssetDTO.controls.description.setValue(this.AssetDTO.controls.description.value?this.AssetDTO.controls.description.value:"N/A"),console.log(this.AssetDTO.value),this.AssetDTO.valid?(console.log(this.AssetDTO.value),this.assetservice.updateasset(this.AssetDTO.value).pipe(M(n=>(console.error(n),I(n)))).subscribe(n=>{this.updateassetdata(),this.isalert=!0,this.alert.type="success",this.alert.upermessage="Asset Save Succeccfully",this.response=!0,setTimeout(()=>{this.isalert=!1,this.route.navigateByUrl("dashboard/asset")},2e3)},n=>{this.isalert=!0,this.alert.type="error",this.alert.lowermessage="Save Asset Failed",this.alert.upermessage="Something went wrong",this.response=!0,setTimeout(()=>{this.isalert=!1,this.route.navigateByUrl("dashboard/asset")},2e3)})):this.AssetDTO.markAllAsTouched()}showcolumn(a){let n=a.target.value;if(n>0){this.AssetDTO.controls.assetCategoryData.setValue(n);let l;l=this.categories.find(u=>u.id==n),this.catagoryReleventFeildsData=JSON.parse(l.relaventInputFields),this.AssetDTO.controls.catagoryReleventFeildsData.setValue(this.catagoryReleventFeildsData)}else this.catagoryReleventFeildsData=[],this.AssetDTO.controls.assetCategoryData.setValue("")}getdata(){return $(this,null,function*(){this.categoryservice.getcategory().pipe(M(a=>I(a))).subscribe(a=>{a.status==404?this.categories.push({id:0,categoryName:"No Category Found"}):this.categories=a.responseData.$values}),console.log(this.categories),this.vendorservice.getvendors().pipe(M(a=>I(a))).subscribe(a=>{a.status==404?this.vendors.push({id:0,name:"No Vendor Found"}):this.vendors=a.responseData.$values}),console.log(this.vendors),this.assettypeservice.getallassettype().pipe(M(a=>I(a))).subscribe(a=>{a.status==404?this.assettype.push({id:0,name:"No Asset Type Found"}):this.assettype=a.responseData.$values}),console.log(this.assettype)})}constructor(a,n,l,u,A){this.categoryservice=a,this.vendorservice=n,this.assetservice=l,this.assettypeservice=u,this.activeroute=A,this.isalert=!1,this.response=!0,this.inputerrormessage=me.inputerrormessage,this.alert={type:"",upermessage:"",lowermessage:""},this.AssetDTO=new _e({assetName:new y("",N.required),description:new y(""),purchaseDate:new y("",N.required),purchasePrice:new y(0,N.required),serialNumber:new y("",N.required),assetIdentificationNumber:new y(""),manufacturer:new y(""),model:new y(""),catagoryReleventFeildsData:new y(""),organizationData:new y("0"),assetStatusData:new y("0"),assetCategoryData:new y("",N.required),assetTypeData:new y("",N.required),vendorData:new y("",N.required)}),this.AssetDTO2={assetName:"",description:"",purchaseDate:"",purchasePrice:"",serialNumber:"",assetIdentificationNumber:"",manufacturer:"",model:"",catagoryReleventFeildsData:"",organizationData:"",assetStatusData:"",assetCategoryData:"",assetTypeData:"",vendorData:""},this.route=J(U),this.id=0,this.categories=[],this.vendors=[],this.assettype=[],this.id=this.activeroute.snapshot.params.id}setdata(){return $(this,null,function*(){if(this.id!=null&&this.id>0){let a=new se("en-US"),n;this.assetservice.getassetbyid(this.id).subscribe(l=>{n=l.responseData,this.AssetDTO.setValue({assetName:n.assetName,description:n.description,purchaseDate:a.transform(n.purchaseDate,"yyyy-MM-dd"),purchasePrice:n.purchasePrice,serialNumber:n.serialNumber,assetIdentificationNumber:n.assetIdentificationNumber,manufacturer:n.manufacturer,model:n.model,catagoryReleventFeildsData:n.catagoryReleventFeildsData,organizationData:"0",assetStatusData:"0",assetCategoryData:this.categories.find(u=>u.categoryName===n.assetCategoryData)?.id||null,assetTypeData:this.assettype.find(u=>u.assetTypeName===n.assetTypeData)?.id||null,vendorData:this.vendors.find(u=>u.name===n.vendorData)?.id||null}),this.catagoryReleventFeildsData=JSON.parse(n.catagoryReleventFeildsData),console.log(n),this.AssetDTO.controls.assetIdentificationNumber.setValue(this.AssetDTO.controls.assetIdentificationNumber.value==="N/A"?"":this.AssetDTO.controls.assetIdentificationNumber.value),this.AssetDTO.controls.manufacturer.setValue(this.AssetDTO.controls.manufacturer.value==="N/A"?"":this.AssetDTO.controls.manufacturer.value),this.AssetDTO.controls.model.setValue(this.AssetDTO.controls.model.value==="N/A"?"":this.AssetDTO.controls.model.value),this.AssetDTO.controls.description.setValue(this.AssetDTO.controls.description.value==="N/A"?"":this.AssetDTO.controls.description.value),console.log(this.AssetDTO.value)}),console.log("from init",this.vendors),console.log("from init",this.categories),console.log("from init",this.assettype)}})}ngOnInit(){return $(this,null,function*(){if(yield this.getdata(),this.id!=null&&this.id>0){let a=new se("en-US"),n;this.assetservice.getassetbyid(this.id).subscribe(l=>{n=l.responseData,this.AssetDTO.setValue({assetName:n.assetName,description:n.description,purchaseDate:a.transform(n.purchaseDate,"yyyy-MM-dd"),purchasePrice:n.purchasePrice,serialNumber:n.serialNumber,assetIdentificationNumber:n.assetIdentificationNumber,manufacturer:n.manufacturer,model:n.model,catagoryReleventFeildsData:n.catagoryReleventFeildsData,organizationData:"0",assetStatusData:"0",assetCategoryData:this.categories.find(u=>u.categoryName===n.assetCategoryData)?.id.toString()||null,assetTypeData:this.assettype.find(u=>u.assetTypeName===n.assetTypeData)?.id.toString()||null,vendorData:this.vendors.find(u=>u.name===n.vendorData)?.id.toString()||null}),this.catagoryReleventFeildsData=JSON.parse(n.catagoryReleventFeildsData),console.log(n),console.log("from init",this.vendors),console.log("from init",this.categories),console.log("from init",this.assettype),this.AssetDTO.controls.assetIdentificationNumber.setValue(this.AssetDTO.controls.assetIdentificationNumber.value==="N/A"?"":this.AssetDTO.controls.assetIdentificationNumber.value),this.AssetDTO.controls.manufacturer.setValue(this.AssetDTO.controls.manufacturer.value==="N/A"?"":this.AssetDTO.controls.manufacturer.value),this.AssetDTO.controls.model.setValue(this.AssetDTO.controls.model.value==="N/A"?"":this.AssetDTO.controls.model.value),this.AssetDTO.controls.description.setValue(this.AssetDTO.controls.description.value==="N/A"?"":this.AssetDTO.controls.description.value),console.log(this.AssetDTO.value)})}})}addAsset(a){this.response=!1,a.preventDefault(),this.AssetDTO.controls.catagoryReleventFeildsData.setValue(JSON.stringify(this.AssetDTO.controls.catagoryReleventFeildsData.value)),this.AssetDTO.controls.assetIdentificationNumber.setValue(this.AssetDTO.controls.assetIdentificationNumber.value?this.AssetDTO.controls.assetIdentificationNumber.value:"N/A"),this.AssetDTO.controls.manufacturer.setValue(this.AssetDTO.controls.manufacturer.value?this.AssetDTO.controls.manufacturer.value:"N/A"),this.AssetDTO.controls.model.setValue(this.AssetDTO.controls.model.value?this.AssetDTO.controls.model.value:"N/A"),this.AssetDTO.controls.description.setValue(this.AssetDTO.controls.description.value?this.AssetDTO.controls.description.value:"N/A"),console.log(this.AssetDTO.value),this.AssetDTO.valid?(console.log(this.AssetDTO.value),this.assetservice.addasset(this.AssetDTO.value).pipe(M(n=>(console.error(n),I(n)))).subscribe(n=>{this.response=!0,this.updateassetdata(),this.isalert=!0,this.alert.type="success",this.alert.upermessage="Asset Added Succeccfully",this.response=!0,setTimeout(()=>{this.isalert=!1,this.route.navigateByUrl("dashboard/asset")},2e3)},n=>{this.isalert=!0,this.alert.type="error",this.alert.upermessage="Something Went Wrong",this.alert.lowermessage="Asset Added Failed",this.response=!0,setTimeout(()=>{this.isalert=!1,this.route.navigateByUrl("dashboard/asset")},2e3)})):this.AssetDTO.markAllAsTouched()}updateassetdata(){this.assetservice.updategetdata().subscribe(a=>{console.log(a)})}};o.\u0275fac=function(n){return new(n||o)(b(Z),b(Se),b(W),b(Te),b(G))},o.\u0275cmp=V({type:o,selectors:[["app-assetcreate"]],decls:105,vars:14,consts:[["class","alert",4,"ngIf"],[1,"container"],[3,"formGroup"],["for","assetName"],[1,"requirederror"],["type","text","id","assetName","name","assetName","formControlName","assetName"],["class","error",4,"ngIf"],["for","serialNumber"],["type","text","id","serialNumber","name","serialNumber","formControlName","serialNumber"],["for","AssetIdentificationNumber"],["type","text","id","AssetIdentificationNumber","name","AssetIdentificationNumber","formControlName","assetIdentificationNumber"],["for","Manufacturer"],["type","text","id","Manufacturer","name","Manufacturer","formControlName","manufacturer"],["for","Model"],["type","text","id","Model","name","Model","formControlName","model"],["for","Description"],["type","text","id","Description","name","Description","formControlName","description"],["for","purchasePrice"],["type","number","id","purchasePrice","name","purchasePrice","min","1","formControlName","purchasePrice"],["for","purchaseDate"],["type","date","id","purchaseDate","name","purchaseDate","formControlName","purchaseDate"],["for","assetCategory"],[1,"addcolumn"],["id","assetCategory","name","assetCategory",3,"change"],["for","vendor"],["id","vendorData","name","vendorData",3,"change"],["for","assetType"],["id","assetType","name","assetType",3,"change"],[1,"link"],["type","submit"],[2,"margin-top","15px"],[4,"ngFor","ngForOf"],[1,"alert"],[3,"alert"],[1,"error"],["selected","",3,"value"],["selected","","value","-1"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"click"],["class","loader",4,"ngIf"],[1,"loader"],[3,"for"],[3,"ngModelChange","type","name","id","ngModel"]],template:function(n,l){n&1&&(m(0,Qe,2,1,"div",0),i(1,"h1"),r(2,"Add Asset Details"),s(),i(3,"div",1)(4,"form",2)(5,"table")(6,"tr")(7,"td")(8,"label",3),r(9,"Asset Name: "),i(10,"span",4),r(11,"*"),s()()(),i(12,"td"),_(13,"input",5),m(14,Xe,2,1,"span",6),s(),i(15,"td")(16,"label",7),r(17,"Serial Number: "),i(18,"span",4),r(19,"*"),s()()(),i(20,"td"),_(21,"input",8),m(22,Ye,2,1,"span",6),s()(),i(23,"tr")(24,"td")(25,"label",9),r(26,"Identification Number:"),s()(),i(27,"td"),_(28,"input",10),s(),i(29,"td")(30,"label",11),r(31,"Manufacturer:"),s()(),i(32,"td"),_(33,"input",12),s()(),i(34,"tr")(35,"td")(36,"label",13),r(37,"Model Name:"),s()(),i(38,"td"),_(39,"input",14),s(),i(40,"td")(41,"label",15),r(42,"Description:"),s()(),i(43,"td"),_(44,"input",16),s()(),i(45,"tr")(46,"td")(47,"label",17),r(48,"Purchase Price(Rs): "),i(49,"span",4),r(50,"*"),s()()(),i(51,"td"),_(52,"input",18),m(53,Ze,2,1,"span",6),s(),i(54,"td")(55,"label",19),r(56,"Purchase Date: "),i(57,"span",4),r(58,"*"),s()()(),i(59,"td"),_(60,"input",20),m(61,et,2,1,"span",6),s()(),i(62,"tr")(63,"td")(64,"label",21),r(65,"Category: "),i(66,"span",4),r(67,"*"),s()()(),i(68,"td")(69,"div",22)(70,"select",23),h("change",function(A){return l.showcolumn(A)}),m(71,at,2,0)(72,rt,3,1),s()(),m(73,lt,2,1,"span",6),s(),i(74,"td")(75,"label",24),r(76,"Vendor: "),i(77,"span",4),r(78,"*"),s()()(),i(79,"td")(80,"div",22)(81,"select",25),h("change",function(A){return l.setvendor(A)}),m(82,ut,2,0)(83,gt,3,1),s()(),m(84,ft,2,1,"span",6),s()(),i(85,"tr")(86,"td")(87,"label",26),r(88,"Asset Type: "),i(89,"span",4),r(90,"*"),s()()(),i(91,"td")(92,"div",22)(93,"select",27),h("change",function(A){return l.setAssettype(A)}),m(94,At,2,0)(95,bt,3,1),s()(),m(96,St,2,1,"span",6),s()()()(),i(97,"div",28),m(98,Dt,3,1,"button",29)(99,Et,3,1,"button",29),s()(),i(100,"h1",30),r(101,"Relavant Fields"),s(),i(102,"div",1)(103,"table"),m(104,wt,6,6,"tr",31),s()()),n&2&&(p("ngIf",l.isalert),c(4),p("formGroup",l.AssetDTO),c(10),p("ngIf",l.AssetDTO.controls.assetName.touched&&l.AssetDTO.controls.assetName.invalid),c(8),p("ngIf",l.AssetDTO.controls.serialNumber.touched&&l.AssetDTO.controls.serialNumber.invalid),c(31),p("ngIf",l.AssetDTO.controls.purchasePrice.touched&&l.AssetDTO.controls.purchasePrice.invalid),c(8),p("ngIf",l.AssetDTO.controls.purchaseDate.touched&&l.AssetDTO.controls.purchaseDate.invalid),c(10),S(l.id!=null?71:72),c(2),p("ngIf",l.AssetDTO.controls.assetCategoryData.touched&&l.AssetDTO.controls.assetCategoryData.invalid),c(9),S(l.id!=null?82:83),c(2),p("ngIf",l.AssetDTO.controls.vendorData.touched&&l.AssetDTO.controls.vendorData.invalid),c(10),S(l.id!=null?94:95),c(2),p("ngIf",l.AssetDTO.controls.assetTypeData.touched&&l.AssetDTO.controls.assetTypeData.invalid),c(2),S(l.id==null?98:99),c(6),p("ngForOf",l.catagoryReleventFeildsData))},dependencies:[R,L,ge,j,B,K,fe,Q,ue,Ce,X,xe,he,Y],styles:[".form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:calc(100% - 22px);padding:10px;border-radius:5px}.link[_ngcontent-%COMP%]{display:flex;justify-content:right}button[type=submit][_ngcontent-%COMP%]{padding:10px;background-color:#4880ff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.asset-form[_ngcontent-%COMP%]{margin-top:3.25%;background-color:#fff;padding:10px 20px;border-radius:10px;border:1px solid rgba(185,185,185,.5)}.addcolumn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.addcolumn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4880ff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left}.bottom[_ngcontent-%COMP%]{display:flex;justify-content:center}.requirederror[_ngcontent-%COMP%]{color:red}"]});let e=o;return e})();function It(e,o){if(e&1&&(i(0,"div",15),_(1,"app-alert",16),s()),e&2){let t=d();c(),p("alert",t.alert)}}function Mt(e,o){if(e&1&&_(0,"option",26),e&2){let t=o.$implicit;p("value",t.userName)}}function Nt(e,o){if(e&1){let t=C();i(0,"h1"),r(1," Assigning Details"),s(),i(2,"table")(3,"tr")(4,"td"),r(5," User Name "),s(),i(6,"td")(7,"input",20),h("change",function(n){g(t);let l=d(3);return f(l.onUserChange(n))})("input",function(n){g(t);let l=d(3);return f(l.onUserInput(n))}),s(),i(8,"datalist",21),m(9,Mt,1,1,"option",22),s()()(),i(10,"tr")(11,"td"),r(12," Request ID "),s(),i(13,"input",23),w("ngModelChange",function(n){g(t);let l=d(3);return E(l.requestId,n)||(l.requestId=n),f(n)}),s()(),i(14,"tr")(15,"td"),r(16," Notes "),s(),i(17,"input",24),w("ngModelChange",function(n){g(t);let l=d(3);return E(l.notes,n)||(l.notes=n),f(n)}),s()(),i(18,"tr"),_(19,"td"),i(20,"td")(21,"button",25),h("click",function(n){g(t);let l=d(3);return f(l.assignasset(n))}),r(22,"Assign Asset"),s()()()()}if(e&2){let t=d(3);c(9),p("ngForOf",t.allusers),c(4),O("ngModel",t.requestId),c(4),O("ngModel",t.notes)}}function Vt(e,o){if(e&1){let t=C();i(0,"h1"),r(1," Return Details"),s(),i(2,"table")(3,"tr")(4,"td"),r(5," Return Condition "),s(),i(6,"td")(7,"select",27),h("change",function(n){g(t);let l=d(3);return f(l.setreturncondition(n))}),i(8,"option",28),r(9,"Select Condition"),s(),i(10,"option",29),r(11,"All set"),s(),i(12,"option",30),r(13,"Damaged"),s()()()(),i(14,"tr")(15,"td"),r(16," Notes "),s(),i(17,"td")(18,"input",23),w("ngModelChange",function(n){g(t);let l=d(3);return E(l.notes,n)||(l.notes=n),f(n)}),s()()(),i(19,"tr"),_(20,"td"),i(21,"td")(22,"button",31),h("click",function(n){g(t);let l=d(3);return f(l.returnasset(n))}),r(23,"Check in"),s()()()()}if(e&2){let t=d(3);c(18),O("ngModel",t.notes)}}function kt(e,o){if(e&1){let t=C();i(0,"h1"),r(1,"Retire Asset Detail"),s(),i(2,"table")(3,"tr")(4,"td"),r(5," Description "),s(),i(6,"td")(7,"input",32),w("ngModelChange",function(n){g(t);let l=d(3);return E(l.notes,n)||(l.notes=n),f(n)}),s()()(),i(8,"tr"),_(9,"td"),i(10,"td")(11,"button",31),h("click",function(){g(t);let n=d(3);return f(n.retireasset())}),r(12,"Retire asset"),s()()()()}if(e&2){let t=d(3);c(7),O("ngModel",t.notes)}}function Pt(e,o){if(e&1){let t=C();i(0,"h1"),r(1,"Sent for maintainance"),s(),i(2,"table")(3,"tr")(4,"td"),r(5," Description "),s(),i(6,"td")(7,"input",32),w("ngModelChange",function(n){g(t);let l=d(3);return E(l.notes,n)||(l.notes=n),f(n)}),s()()(),i(8,"tr"),_(9,"td"),i(10,"td")(11,"button",31),h("click",function(){g(t);let n=d(3);return f(n.sendforMaintainance())}),r(12,"Send for maintainance"),s()()()()}if(e&2){let t=d(3);c(7),O("ngModel",t.notes)}}function Ft(e,o){if(e&1){let t=C();i(0,"h1"),r(1,"return from maintainance"),s(),i(2,"table")(3,"tr")(4,"td"),r(5," Description "),s(),i(6,"td")(7,"input",32),w("ngModelChange",function(n){g(t);let l=d(3);return E(l.notes,n)||(l.notes=n),f(n)}),s()()(),i(8,"tr"),_(9,"td"),i(10,"td")(11,"button",31),h("click",function(){g(t);let n=d(3);return f(n.returnfrommaintainance())}),r(12,"Reurn From maintainance"),s()()()()}if(e&2){let t=d(3);c(7),O("ngModel",t.notes)}}function Rt(e,o){if(e&1){let t=C();i(0,"div",19),h("click",function(n){g(t);let l=d(2);return f(l.stoppropagation(n))}),m(1,Nt,23,3)(2,Vt,24,1)(3,kt,13,1)(4,Pt,13,1)(5,Ft,13,1),s()}if(e&2){let t=d(2);c(),S(t.selectaction=="checkout"?1:t.selectaction=="checkin"?2:t.selectaction=="retire"?3:t.selectaction=="senttoUnderMaintenance"?4:t.selectaction=="returfromundermaintainance"?5:-1)}}function Lt(e,o){e&1&&_(0,"span",33)}function Ut(e,o){if(e&1){let t=C();i(0,"div",17),h("click",function(){g(t);let n=d();return f(n.toogleaction(""))}),m(1,Rt,6,1,"div",18)(2,Lt,1,0,"ng-template",null,1,v),s()}if(e&2){let t=q(3),a=d();c(),p("ngIf",!a.isprocessing)("ngIfElse",t)}}function jt(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.assetName)}}function Bt(e,o){e&1&&_(0,"div",34)}function Wt(e,o){if(e&1&&(i(0,"p"),r(1),s()),e&2){let t=d();c(),D(" ",t.assetdetail.description," ")}}function qt(e,o){e&1&&_(0,"div",35)}function $t(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d();return f(n.updateasset(n.id))}),r(1,"Update"),s()}}function zt(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d();return f(n.deleteasset(n.id))}),r(1,"Delete"),s()}}function Jt(e,o){e&1&&_(0,"span",33)}function Ht(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();re(t.assetdetail.assetStatusData),c(),D(" ",t.assetdetail.assetStatusData," ")}}function Gt(e,o){e&1&&_(0,"div",36)}function Kt(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d(3);return f(n.toogleaction("checkout"))}),r(1,"Check out"),s()}}function Qt(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d(3);return f(n.toogleaction("retire"))}),r(1,"Retire"),s()}}function Xt(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d(3);return f(n.toogleaction("senttoUnderMaintenance"))}),r(1,"Send Under Maintenance"),s()}}function Yt(e,o){if(e&1&&m(0,Kt,2,0,"button",11)(1,Qt,2,0,"button",11)(2,Xt,2,0,"button",11),e&2){let t=d(2);p("ngIf",!t.isLoading),c(),p("ngIf",!t.isLoading),c(),p("ngIf",!t.isLoading)}}function Zt(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d(3);return f(n.toogleaction("checkin"))}),r(1,"Check in"),s()}}function ei(e,o){if(e&1&&m(0,Zt,2,0,"button",11),e&2){let t=d(2);p("ngIf",!t.isLoading)}}function ti(e,o){if(e&1){let t=C();i(0,"button",31),h("click",function(){g(t);let n=d(3);return f(n.toogleaction("returfromundermaintainance"))}),r(1,"Mark as Available"),s()}}function ii(e,o){if(e&1&&m(0,ti,2,0,"button",11),e&2){let t=d(2);p("ngIf",!t.isLoading)}}function ni(e,o){if(e&1&&m(0,Yt,3,3)(1,ei,1,1,"button")(2,ii,1,1,"button"),e&2){let t,a=d();S((t=a.assetdetail.assetStatusData)==="Available"?0:t==="Assigned"?1:t==="UnderMaintenance"?2:-1)}}function si(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.assetIdentificationNumber)}}function ai(e,o){e&1&&_(0,"div",35)}function oi(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.serialNumber)}}function ri(e,o){e&1&&_(0,"div",35)}function li(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.assetTypeData)}}function ci(e,o){e&1&&_(0,"div",35)}function di(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.assetCategoryData)}}function pi(e,o){e&1&&_(0,"div",35)}function mi(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.manufacturer)}}function ui(e,o){e&1&&_(0,"div",35)}function _i(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.model)}}function gi(e,o){e&1&&_(0,"div",35)}function fi(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.createdDate)}}function xi(e,o){e&1&&_(0,"div",35)}function hi(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.updatedDate)}}function Ci(e,o){e&1&&_(0,"div",35)}function vi(e,o){if(e&1&&(i(0,"tr")(1,"td"),r(2),s(),i(3,"td"),r(4),s()()),e&2){let t=o.$implicit;c(2),x(t.name),c(2),x(t.value)}}function Ai(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.vendorData)}}function yi(e,o){e&1&&_(0,"div",35)}function bi(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.purchasePrice)}}function Si(e,o){e&1&&_(0,"div",35)}function Ti(e,o){if(e&1&&(i(0,"span"),r(1),s()),e&2){let t=d();c(),x(t.assetdetail.purchaseDate)}}function Di(e,o){e&1&&_(0,"div",35)}var Ve=(()=>{let o=class o{returnasset(a){let n={assetId:this.id,returnCondition:this.returncondition,notes:this.notes};this.isprocessing=!0,this.assetactionservice.returnasset(n).subscribe(l=>{this.isalert=!0,this.alert={type:"success",upermessage:"Asset returned successfully",lowermessage:""},setTimeout(()=>{this.isalert=!1},2e3),this.toogleaction(""),this.isprocessing=!1,this.router.navigateByUrl("dashboard/asset")},l=>{this.isprocessing=!1,this.isalert=!0,this.alert={type:"error",upermessage:"Somthing went wrong",lowermessage:"Asset Action failed"},setTimeout(()=>{this.isalert=!1},2e3)})}setreturncondition(a){this.returncondition=a.target.value}retireasset(){let a={assetId:this.assetdetail.id,retirementReason:this.notes};this.isprocessing=!0,this.assetactionservice.retireasset(a).subscribe(n=>{this.isalert=!0,this.alert={type:"success",upermessage:"Asset returned successfully",lowermessage:""},setTimeout(()=>{this.isalert=!1},2e3),this.router.navigateByUrl("dashboard/asset"),this.toogleaction(""),this.isprocessing=!1},n=>{console.log(n),this.isprocessing=!1,this.isalert=!0,this.alert={type:"error",upermessage:"Somthing went wrong",lowermessage:"Asset Action failed"},setTimeout(()=>{this.isalert=!1},2e3)})}sendforMaintainance(){let a={assetId:this.assetdetail.id,description:this.notes};this.isprocessing=!0,this.assetactionservice.sendformaintainance(a).subscribe(n=>{this.isalert=!0,this.alert={type:"success",upermessage:"Asset returned successfully",lowermessage:""},setTimeout(()=>{this.isalert=!1},2e3),this.router.navigateByUrl("dashboard/asset"),this.toogleaction(""),this.isprocessing=!1},n=>{console.log(n),this.isprocessing=!1,this.isalert=!0,this.alert={type:"error",upermessage:"Somthing went wrong",lowermessage:"Asset Action failed"},setTimeout(()=>{this.isalert=!1},2e3)})}returnfrommaintainance(){let a={assetId:this.assetdetail.id,description:this.notes};console.log(a),this.isprocessing=!0,this.assetactionservice.returnfrommaintainance(a).subscribe(n=>{this.isalert=!0,this.alert={type:"success",upermessage:"Asset returned successfully",lowermessage:""},setTimeout(()=>{this.isalert=!1},2e3),this.router.navigateByUrl("dashboard/asset"),this.toogleaction(""),this.isprocessing=!1},n=>{console.log(n),this.isalert=!0,this.alert={type:"error",upermessage:"Somthing went wrong",lowermessage:"Asset Action failed"},setTimeout(()=>{this.isalert=!1},2e3)})}assignasset(a){let n={assignedToId:this.selectedUserId,assetId:this.assetdetail.id,notes:this.notes,requestId:this.requestId};this.isprocessing=!0,this.assetactionservice.assignasset(n).subscribe(l=>{this.isalert=!0,this.alert={type:"success",upermessage:"Asset returned successfully",lowermessage:""},setTimeout(()=>{this.isalert=!1},2e3),console.log(l),this.toogleaction(""),this.isprocessing=!1,this.router.navigateByUrl("dashboard/asset")},l=>{this.isprocessing=!1,this.isalert=!0,this.alert={type:"error",upermessage:"Somthing went wrong",lowermessage:"Asset Action failed"},setTimeout(()=>{this.isalert=!1},2e3)})}onUserChange(a){let l=a.target.value,u=this.allusers.find(A=>A.userName===l);this.selectedUserId=u?u.id:null,console.log("Selected User ID:",this.selectedUserId)}onUserInput(a){throw new Error("Method not implemented.")}stoppropagation(a){a.stopPropagation()}toogleaction(a){this.selectaction=a,this.isaction=!this.isaction}updateasset(a){this.router.navigateByUrl(`dashboard/asset/create/${a}`)}deleteasset(a){this.assetservice.deleteasset(a).pipe().subscribe(n=>{console.log(n),this.updateassetdata(),this.router.navigateByUrl("dashboard/asset")})}updateassetdata(){this.assetservice.updategetdata().subscribe(a=>{console.log(a),this.isprocessing=!1},a=>{this.isprocessing=!1})}constructor(a,n,l,u){this.activedroute=a,this.assetservice=n,this.userservice=l,this.assetactionservice=u,this.isprocessing=!1,this.alert={type:"success",upermessage:"",lowermessage:""},this.isalert=!1,this.selectedUserId="",this.selectaction="",this.isaction=!1,this.isLoading=!0,this.relevatcategoriesinput=[],this.router=J(U),this.allusers=[],this.id=this.activedroute.snapshot.params.id,console.log(this.id),this.assetservice.getassetbyid(this.id).pipe().subscribe(A=>{this.isLoading=!1,this.assetdetail=A.responseData,this.relevatcategoriesinput=JSON.parse(this.assetdetail.catagoryReleventFeildsData),typeof this.relevatcategoriesinput=="string"&&(this.relevatcategoriesinput=JSON.parse(this.assetdetail.catagoryReleventFeildsData),console.log(this.relevatcategoriesinput))})}ngOnInit(){this.getalluser()}getalluser(){this.userservice.getalluserS().pipe().subscribe(a=>{this.allusers=a.responseData.$values})}};o.\u0275fac=function(n){return new(n||o)(b(G),b(W),b(ye),b(De))},o.\u0275cmp=V({type:o,selectors:[["app-assetdetail"]],decls:111,vars:33,consts:[["loading",""],["processing",""],["class","alert",4,"ngIf"],["class","assigningdetail",3,"click",4,"ngIf"],[1,"container"],[1,"head"],[1,"left"],[4,"ngIf","ngIfElse"],[1,"detail"],[1,"description"],[1,"action"],[3,"click",4,"ngIf"],[1,"right"],[1,"link"],[3,"class",4,"ngIf","ngIfElse"],[1,"alert"],[3,"alert"],[1,"assigningdetail",3,"click"],["class","detail",3,"click",4,"ngIf","ngIfElse"],[1,"detail",3,"click"],["list","allusers","id","user","name","user","placeholder","Type to search User..",3,"change","input"],["id","allusers"],[3,"value",4,"ngFor","ngForOf"],["name","notes","id","notes",3,"ngModelChange","ngModel"],["type","text","name","notes","id","notes",3,"ngModelChange","ngModel"],[1,"assign",3,"click"],[3,"value"],["name","","id","",3,"change"],["value","","selected",""],["value","All Set"],["value","Damaged"],[3,"click"],["type","text","name","","id","",3,"ngModelChange","ngModel"],[1,"loader"],[1,"skeleton","skeleton-title"],[1,"skeleton","skeleton-text"],[1,"skeleton","skeleton-status"]],template:function(n,l){if(n&1&&(m(0,It,2,1,"div",2)(1,Ut,4,2,"div",3),i(2,"div",4)(3,"div",5)(4,"div",6)(5,"h1"),m(6,jt,2,1,"span",7)(7,Bt,1,0,"ng-template",null,0,v),s(),i(9,"div",8)(10,"div",9),m(11,Wt,2,1,"p",7)(12,qt,1,0,"ng-template",null,0,v),i(14,"div",10),m(15,$t,2,0,"button",11)(16,zt,2,0,"button",11),s()(),m(17,Jt,1,0,"ng-template",null,1,v),s()(),i(19,"div",12)(20,"div",13),m(21,Ht,2,3,"span",14)(22,Gt,1,0,"ng-template",null,0,v)(24,ni,3,1),s()()()(),i(25,"h2"),r(26,"Basic Information"),s(),i(27,"div",4)(28,"table")(29,"tr")(30,"td"),r(31,"Identification Number"),s(),i(32,"td"),m(33,si,2,1,"span",7)(34,ai,1,0,"ng-template",null,0,v),s(),i(36,"td"),r(37,"Serial Number"),s(),i(38,"td"),m(39,oi,2,1,"span",7)(40,ri,1,0,"ng-template",null,0,v),s()(),i(42,"tr")(43,"td"),r(44,"Asset Type"),s(),i(45,"td"),m(46,li,2,1,"span",7)(47,ci,1,0,"ng-template",null,0,v),s(),i(49,"td"),r(50,"Category"),s(),i(51,"td"),m(52,di,2,1,"span",7)(53,pi,1,0,"ng-template",null,0,v),s()(),i(55,"tr")(56,"td"),r(57,"Manufacturer"),s(),i(58,"td"),m(59,mi,2,1,"span",7)(60,ui,1,0,"ng-template",null,0,v),s(),i(62,"td"),r(63,"Model"),s(),i(64,"td"),m(65,_i,2,1,"span",7)(66,gi,1,0,"ng-template",null,0,v),s()(),i(68,"tr")(69,"td"),r(70,"Created Date"),s(),i(71,"td"),m(72,fi,2,1,"span",7)(73,xi,1,0,"ng-template",null,0,v),s(),i(75,"td"),r(76,"Updated Date"),s(),i(77,"td"),m(78,hi,2,1,"span",7)(79,Ci,1,0,"ng-template",null,0,v),s()()()(),i(81,"h2"),r(82,"Category Relevant Information"),s(),i(83,"div",4)(84,"table"),P(85,vi,5,2,"tr",null,k),s()(),i(87,"h2"),r(88,"Buying Details"),s(),i(89,"div",4)(90,"table")(91,"tr")(92,"td"),r(93,"Vendor Name"),s(),i(94,"td"),m(95,Ai,2,1,"span",7)(96,yi,1,0,"ng-template",null,0,v),s(),i(98,"td"),r(99,"Purchase Price"),s(),i(100,"td"),m(101,bi,2,1,"span",7)(102,Si,1,0,"ng-template",null,0,v),s()(),i(104,"tr")(105,"td"),r(106,"Purchase Date"),s(),i(107,"td"),m(108,Ti,2,1,"span",7)(109,Di,1,0,"ng-template",null,0,v),s()()()()),n&2){let u=q(8);p("ngIf",l.isalert),c(),p("ngIf",l.isaction),c(5),p("ngIf",!l.isLoading)("ngIfElse",u),c(5),p("ngIf",!l.isLoading)("ngIfElse",u),c(4),p("ngIf",!l.isLoading),c(),p("ngIf",!l.isLoading),c(5),p("ngIf",!l.isLoading)("ngIfElse",u),c(3),S(l.assetdetail.assetStatusData!=null?24:-1),c(9),p("ngIf",!l.isLoading)("ngIfElse",u),c(6),p("ngIf",!l.isLoading)("ngIfElse",u),c(7),p("ngIf",!l.isLoading)("ngIfElse",u),c(6),p("ngIf",!l.isLoading)("ngIfElse",u),c(7),p("ngIf",!l.isLoading)("ngIfElse",u),c(6),p("ngIf",!l.isLoading)("ngIfElse",u),c(7),p("ngIf",!l.isLoading)("ngIfElse",u),c(6),p("ngIf",!l.isLoading)("ngIfElse",u),c(7),F(l.relevatcategoriesinput),c(10),p("ngIf",!l.isLoading)("ngIfElse",u),c(6),p("ngIf",!l.isLoading)("ngIfElse",u),c(7),p("ngIf",!l.isLoading)("ngIfElse",u)}},dependencies:[R,L,j,B,K,Q,X,Y],styles:['.assigningdetail[_ngcontent-%COMP%]{top:0;left:0;background-color:#0003;display:grid;place-items:center;position:fixed;width:100%;height:100%}.assigningdetail[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{width:50%;border-radius:10px;background-color:#fff;padding:5% 10%}.assign[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#4880ff;color:#fff;border-radius:5px;padding:5px 10px;font-size:1em}.Assigned[_ngcontent-%COMP%]{text-align:center;padding:5px 10px;border-radius:5px;color:#ffa756;background-color:#ffa75633}.Retired[_ngcontent-%COMP%]{text-align:center;padding:5px 10px;border-radius:5px;color:#ef3826;background-color:#ef382633}.UnderMaintenance[_ngcontent-%COMP%]{text-align:center;padding:5px 10px;border-radius:5px;color:#ba29ff;background-color:#ba29ff33}.Available[_ngcontent-%COMP%]{text-align:center;padding:5px 10px;border-radius:5px;color:#00b69b;background-color:#00b69b33}.link[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:9px}.link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:5px;padding:5px 10px;font-size:.9em;background-color:#4880ff33;color:#4880ff}.link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2), .action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){border:none;background-color:#4880ff;color:#fff}.head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.action[_ngcontent-%COMP%]{display:flex;gap:10px}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border:none;border-radius:5px;padding:5px 10px;font-size:.9em;background-color:#f003;color:red}.description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-wrap:normal;text-wrap:balance}tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(odd){font-weight:700}.skeleton[_ngcontent-%COMP%]{background-color:#ddd;border-radius:4px;margin-bottom:10px}.skeleton-title[_ngcontent-%COMP%]{width:50%;height:24px}.skeleton-text[_ngcontent-%COMP%]{width:100%;height:16px}.skeleton-status[_ngcontent-%COMP%]{width:100px;height:20px}.container[_ngcontent-%COMP%]{margin-top:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.loader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s infinite;height:50px;width:50px}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{border-radius:50%;content:"";display:block;height:20px;width:20px}.loader[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_ball1 1s infinite;background-color:#fff;box-shadow:30px 0 #5380ff;margin-bottom:10px}.loader[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_ball2 1s infinite;background-color:#5380ff;box-shadow:30px 0 #fff}.alert[_ngcontent-%COMP%]{left:0;position:fixed;width:100%;display:flex;justify-content:center;z-index:2}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0) scale(.8)}50%{transform:rotate(360deg) scale(1.2)}to{transform:rotate(720deg) scale(.8)}}@keyframes _ngcontent-%COMP%_ball1{0%{box-shadow:30px 0 #5380ff}50%{box-shadow:0 0 #5380ff;margin-bottom:0;transform:translate(15px,15px)}to{box-shadow:30px 0 #5380ff;margin-bottom:10px}}@keyframes _ngcontent-%COMP%_ball2{0%{box-shadow:30px 0 #fff}50%{box-shadow:0 0 #fff;margin-top:-20px;transform:translate(15px,15px)}to{box-shadow:30px 0 #fff;margin-top:0}}']});let e=o;return e})();var Oi=[{path:"",component:Ne},{path:"create",component:oe},{path:":id",component:Ve},{path:"create/:id",component:oe}],ke=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=H({type:o}),o.\u0275inj=z({imports:[ae.forChild(Oi),ae]});let e=o;return e})();var fn=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=H({type:o}),o.\u0275inj=z({imports:[de,ke,ve,Ae]});let e=o;return e})();export{fn as AssetModule};
