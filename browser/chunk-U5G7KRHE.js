import{a as R}from"./chunk-YPVNFTTI.js";import{a as L}from"./chunk-BJ7OGFNR.js";import{a as I,b as P,c as O,d as j,e as G,g as b,i as U,k as $,l as q,u as z,v as Y}from"./chunk-2USBGTC3.js";import{A as x,D as f,E as _,Q as p,R as E,Sa as V,Ta as M,Wa as D,X as d,Z as m,ca as T,ga as r,ha as o,ia as h,j as N,kb as w,ma as y,n as k,na as u,nb as F,oa as c,v as g,wa as a,xa as v,ya as A,z as C}from"./chunk-425NM7EX.js";function K(e,t){if(e&1&&(r(0,"div",5),h(1,"app-alert",6),o()),e&2){let n=c();p(),m("alert",n.alert)}}function Q(e,t){e&1&&h(0,"app-dataloading")}function W(e,t){if(e&1){let n=y();r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td")(6,"div",11)(7,"i",12),u("click",function(){let i=f(n).$implicit,l=c(3);return _(l.edit(i.id))}),o(),r(8,"img",13),u("click",function(){let i=f(n).$implicit,l=c(3);return _(l.delete(i.id))}),o()()()()}if(e&2){let n=t.$implicit;p(2),A("",n.assetTypeName||"--"," "),p(2),v(n.description||"--")}}function X(e,t){if(e&1&&d(0,W,9,2,"tr",10),e&2){let n=c(2);m("ngForOf",n.type)}}function Z(e,t){e&1&&(r(0,"div",8)(1,"span"),a(2,"No asset found"),o()())}function ee(e,t){if(e&1&&(r(0,"span",19),a(1),o()),e&2){let n=c(3);p(),v(n.inputerrormessages.required)}}function te(e,t){if(e&1){let n=y();r(0,"button",2),u("click",function(){f(n);let i=c(3);return _(i.savetype())}),a(1,"Save Type"),o()}}function ie(e,t){if(e&1){let n=y();r(0,"button",2),u("click",function(){f(n);let i=c(3);return _(i.updateType())}),a(1,"Update Type"),o()}}function se(e,t){if(e&1){let n=y();r(0,"tr")(1,"td"),h(2,"input",14),d(3,ee,2,1,"span",15),o(),r(4,"td"),h(5,"input",16),o(),r(6,"td")(7,"div",17),d(8,te,2,0,"button")(9,ie,2,0,"button"),r(10,"p",18),u("click",function(){f(n);let i=c(2);return _(i.cancel())}),a(11,"Cancel"),o()()()()}if(e&2){let n=c(2);p(3),m("ngIf",n.assettype.controls.assetTypeName.touched&&n.assettype.controls.assetTypeName.invalid),p(5),T(n.id<=0?8:9)}}function ne(e,t){if(e&1&&(r(0,"table")(1,"thead")(2,"th"),a(3," Asset Type "),o(),r(4,"th"),a(5," Description "),o(),r(6,"th",7),a(7," Action "),o()(),r(8,"tbody"),d(9,X,1,1,"tr")(10,Z,3,0,"div",8)(11,se,12,2,"tr",9),o()()),e&2){let n=c();p(9),T(n.type.length>0?9:10),p(2),m("ngIf",n.isadd)}}var B=(()=>{let t=class t{constructor(s){this.service=s,this.isalert=!1,this.alert={type:"",upermessage:"",lowermessage:""},this.type=[],this.isadd=!1,this.id=0,this.inputerrormessages=F.inputerrormessage,this.dataload=!1,this.assettype=new G({assetTypeName:new b("",P.required),description:new b("")})}ngOnInit(){this.getassettype()}getassettype(){this.dataload=!1,this.service.getallassettype().pipe(k(s=>N(s))).subscribe(s=>{s.status==404?this.type=[]:this.type=s.responseData.$values,this.dataload=!0})}savetype(){this.assettype.valid?(this.isadd=!1,this.service.addassettype(this.assettype.value).subscribe(s=>{this.dataload=!1,console.log(s),this.isalert=!0,this.alert.type="success",this.alert.upermessage="Add Success",this.alert.lowermessage="Asset type Added Successfully",setTimeout(()=>{this.isalert=!1},3e3),this.assettype.reset(),this.getassettype()},s=>{this.isalert=!0,s.status==401?(this.alert.type="error",this.alert.upermessage="Unauthorized",this.alert.lowermessage="You donot have Permission"):(this.alert.type="error",this.alert.upermessage="Something went wrong",this.alert.lowermessage="Pleasr try again later"),setTimeout(()=>{this.isalert=!1},3e3),this.assettype.reset()})):this.assettype.markAllAsTouched()}updateType(){let s={id:this.id,assetTypeName:this.assettype.controls.assetTypeName.value,description:this.assettype.controls.description.value};this.service.updateAssetType(s).pipe().subscribe(()=>{this.isadd=!1,this.dataload=!1,this.id=0,this.assettype.reset(),this.getassettype(),this.isalert=!0,this.alert.type="success",this.alert.upermessage="Update Success",this.alert.lowermessage="Update Asset type Successfully",setTimeout(()=>{this.isalert=!1},3e3)},i=>{this.isalert=!0,i.status==401?(this.alert.type="error",this.alert.upermessage="Unauthorized",this.alert.lowermessage="You donot have Permission"):(this.alert.type="error",this.alert.upermessage="Something went wrong",this.alert.lowermessage="Pleasr try again later"),setTimeout(()=>{this.isalert=!1},3e3)})}delete(s){this.service.deleteassettype(s).subscribe(()=>{this.isalert=!0,this.alert.type="success",this.alert.upermessage="Deleted Success",this.alert.lowermessage="Vendor Deleted Successfully",setTimeout(()=>{this.isalert=!1},3e3),this.getassettype()},i=>{this.isalert=!0,this.alert.type="error",i.status==405?(this.alert.type="warning",this.alert.upermessage="Delete Failed",this.alert.lowermessage="Asset type is already in use"):(this.alert.type="error",this.alert.upermessage="Something went wrong",this.alert.lowermessage="Please try again Later"),setTimeout(()=>{this.isalert=!1},3e3)})}edit(s){this.id=s,this.isadd=!0;let i=this.type.find(l=>l.id===s);i&&this.assettype.setValue({assetTypeName:i.assetTypeName,description:i.description})}addnewfield(){this.isadd=!0}cancel(){this.isadd=!1,this.id=0,this.assettype.reset()}};t.\u0275fac=function(i){return new(i||t)(E(R))},t.\u0275cmp=C({type:t,selectors:[["app-typelist"]],decls:10,vars:3,consts:[["class","alert",4,"ngIf"],[1,"head"],[3,"click"],[1,"container"],[3,"formGroup"],[1,"alert"],[3,"alert"],[2,"text-align","center"],[1,"notfound"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"action"],[1,"fa-regular","fa-pen-to-square",2,"color","green","cursor","pointer",3,"click"],["src","delete.svg","alt","",2,"cursor","pointer",3,"click"],["type","text","placeholder","Enter Asset Type Name","formControlName","assetTypeName"],["class","error",4,"ngIf"],["type","text","placeholder","Enter Description","formControlName","description"],[1,"link",2,"display","flex","justify-content","space-around","align-items","center"],[2,"color","red","cursor","pointer",3,"click"],[1,"error"]],template:function(i,l){i&1&&(d(0,K,2,1,"div",0),r(1,"div",1)(2,"h1"),a(3,"Asset Type list"),o(),r(4,"button",2),u("click",function(){return l.addnewfield()}),a(5,"Add New Asset Type"),o()(),r(6,"div",3)(7,"form",4),d(8,Q,1,0,"app-dataloading")(9,ne,12,2,"table"),o()()),i&2&&(m("ngIf",l.isalert),p(7),m("formGroup",l.assettype),p(),T(l.dataload?9:8))},dependencies:[V,M,L,U,I,O,j,$,q,Y],styles:[".head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4379ee;border-radius:5px;border:none;color:#fff;padding:15px;font-size:1em;cursor:pointer}thead[_ngcontent-%COMP%]{background-color:#f1f4f9;font-weight:700}.action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;background-color:#fafbfd;border:.1px solid rgb(213,213,213);border-radius:7.5px;gap:0px}.link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4379ee;border-radius:5px;border:none;color:#fff;padding:10px;cursor:pointer}"]});let e=t;return e})();var H=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["app-addtype"]],decls:2,vars:0,template:function(i,l){i&1&&(r(0,"p"),a(1,"addtype works!"),o())}});let e=t;return e})();var re=[{path:"",component:B},{path:"add",component:H}],J=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=x({type:t}),t.\u0275inj=g({imports:[w.forChild(re),w]});let e=t;return e})();var De=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=x({type:t}),t.\u0275inj=g({imports:[D,J,z]});let e=t;return e})();export{De as TypeModule};
